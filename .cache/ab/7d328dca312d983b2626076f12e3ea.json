{"id":"S3KA","dependencies":[{"name":"/Users/arthurmasl/Work/game-engine/package.json","includedInParent":true,"mtime":1590850615987},{"name":"../player/player","loc":{"line":1,"column":27},"parent":"/Users/arthurmasl/Work/game-engine/src/common/collide.js","resolved":"/Users/arthurmasl/Work/game-engine/src/player/player.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.collide=void 0;var e=require(\"../player/player\");function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(r){n(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var o=function(e,r){return e.pos.x<r.pos.x+r.size&&e.pos.x+e.size>r.pos.x&&e.pos.y<r.pos.y+r.size&&e.pos.y+e.size>r.pos.y},c=function(e,r){return t(t({},e),{},{pos:t(t({},e.pos),{},n({},r,e.pos[r]+e.acc[r]))})},i=function(e,r){return e.map(function(e){return o(r,e)}).some(function(e){return e})},p=function(r){var n=r.objects,o=r.player,p=i(n,(0,e.nextPlayer)(c(o,\"x\"))),s=i(n,(0,e.nextPlayer)(c(o,\"y\")));return(0,e.nextPlayer)(t(t({},o),{},{vel:{x:p?0:o.vel.x,y:s?0:o.vel.y}}))};exports.collide=p;"},"sourceMaps":{"js":{"mappings":[{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":0}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":13}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":20}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":35}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":43}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":56}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":57}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":64}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":68}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":76}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":89}},{"source":"common/collide.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"common/collide.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"common/collide.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"common/collide.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":125}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":134}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":136}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":138}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":141}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":145}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":147}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":154}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":159}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":162}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":165}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":172}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":194}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":195}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":199}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":201}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":208}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":230}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":233}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":237}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":239}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":241}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":248}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":257}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":260}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":267}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":274}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":299}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":301}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":304}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":318}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":320}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":325}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":331}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":333}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":336}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":343}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":345}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":354}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":356}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":359}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":363}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":367}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":369}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":371}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":373}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":383}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":390}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":394}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":395}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":399}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":401}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":407}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":417}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":420}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":430}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":433}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":436}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":438}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":440}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":442}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":449}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":453}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":456}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":464}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":473}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":476}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":478}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":480}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":482}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":484}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":490}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":497}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":523}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":530}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":547}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":549}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":556}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":582}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":586}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":588}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":595}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":599}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":607}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":616}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":619}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":626}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":641}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":643}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":645}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":652}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":677}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":679}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":685}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":692}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":694}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":703}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":705}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":707}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":709}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":712}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":719}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":724}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":726}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":733}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":748}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":750}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":752}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":753}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":759}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":761}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":773}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":775}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":789}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":791}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":801}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":805}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":807}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":810}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":812}},{"source":"common/collide.js","original":{"line":3,"column":0},"generated":{"line":1,"column":814}},{"source":"common/collide.js","name":"isCollide","original":{"line":3,"column":6},"generated":{"line":1,"column":818}},{"source":"common/collide.js","original":{"line":3,"column":18},"generated":{"line":1,"column":820}},{"source":"common/collide.js","name":"obj1","original":{"line":3,"column":19},"generated":{"line":1,"column":829}},{"source":"common/collide.js","name":"obj2","original":{"line":3,"column":25},"generated":{"line":1,"column":831}},{"source":"common/collide.js","name":"obj1","original":{"line":4,"column":2},"generated":{"line":1,"column":834}},{"source":"common/collide.js","name":"obj1","original":{"line":4,"column":2},"generated":{"line":1,"column":841}},{"source":"common/collide.js","name":"pos","original":{"line":4,"column":7},"generated":{"line":1,"column":843}},{"source":"common/collide.js","name":"x","original":{"line":4,"column":11},"generated":{"line":1,"column":847}},{"source":"common/collide.js","name":"obj2","original":{"line":4,"column":15},"generated":{"line":1,"column":849}},{"source":"common/collide.js","name":"pos","original":{"line":4,"column":20},"generated":{"line":1,"column":851}},{"source":"common/collide.js","name":"x","original":{"line":4,"column":24},"generated":{"line":1,"column":855}},{"source":"common/collide.js","name":"obj2","original":{"line":4,"column":28},"generated":{"line":1,"column":857}},{"source":"common/collide.js","name":"size","original":{"line":4,"column":33},"generated":{"line":1,"column":859}},{"source":"common/collide.js","name":"obj1","original":{"line":5,"column":5},"generated":{"line":1,"column":865}},{"source":"common/collide.js","name":"pos","original":{"line":5,"column":10},"generated":{"line":1,"column":867}},{"source":"common/collide.js","name":"x","original":{"line":5,"column":14},"generated":{"line":1,"column":871}},{"source":"common/collide.js","name":"obj1","original":{"line":5,"column":18},"generated":{"line":1,"column":873}},{"source":"common/collide.js","name":"size","original":{"line":5,"column":23},"generated":{"line":1,"column":875}},{"source":"common/collide.js","name":"obj2","original":{"line":5,"column":30},"generated":{"line":1,"column":880}},{"source":"common/collide.js","name":"pos","original":{"line":5,"column":35},"generated":{"line":1,"column":882}},{"source":"common/collide.js","name":"x","original":{"line":5,"column":39},"generated":{"line":1,"column":886}},{"source":"common/collide.js","name":"obj1","original":{"line":6,"column":5},"generated":{"line":1,"column":889}},{"source":"common/collide.js","name":"pos","original":{"line":6,"column":10},"generated":{"line":1,"column":891}},{"source":"common/collide.js","name":"y","original":{"line":6,"column":14},"generated":{"line":1,"column":895}},{"source":"common/collide.js","name":"obj2","original":{"line":6,"column":18},"generated":{"line":1,"column":897}},{"source":"common/collide.js","name":"pos","original":{"line":6,"column":23},"generated":{"line":1,"column":899}},{"source":"common/collide.js","name":"y","original":{"line":6,"column":27},"generated":{"line":1,"column":903}},{"source":"common/collide.js","name":"obj2","original":{"line":6,"column":31},"generated":{"line":1,"column":905}},{"source":"common/collide.js","name":"size","original":{"line":6,"column":36},"generated":{"line":1,"column":907}},{"source":"common/collide.js","name":"obj1","original":{"line":7,"column":5},"generated":{"line":1,"column":913}},{"source":"common/collide.js","name":"pos","original":{"line":7,"column":10},"generated":{"line":1,"column":915}},{"source":"common/collide.js","name":"y","original":{"line":7,"column":14},"generated":{"line":1,"column":919}},{"source":"common/collide.js","name":"obj1","original":{"line":7,"column":18},"generated":{"line":1,"column":921}},{"source":"common/collide.js","name":"size","original":{"line":7,"column":23},"generated":{"line":1,"column":923}},{"source":"common/collide.js","name":"obj2","original":{"line":7,"column":30},"generated":{"line":1,"column":928}},{"source":"common/collide.js","name":"pos","original":{"line":7,"column":35},"generated":{"line":1,"column":930}},{"source":"common/collide.js","name":"y","original":{"line":7,"column":39},"generated":{"line":1,"column":934}},{"source":"common/collide.js","name":"moveByDir","original":{"line":9,"column":6},"generated":{"line":1,"column":937}},{"source":"common/collide.js","original":{"line":9,"column":18},"generated":{"line":1,"column":939}},{"source":"common/collide.js","name":"player","original":{"line":9,"column":19},"generated":{"line":1,"column":948}},{"source":"common/collide.js","name":"dir","original":{"line":9,"column":27},"generated":{"line":1,"column":950}},{"source":"common/collide.js","name":"player","original":{"line":10,"column":5},"generated":{"line":1,"column":953}},{"source":"common/collide.js","name":"player","original":{"line":10,"column":5},"generated":{"line":1,"column":960}},{"source":"common/collide.js","name":"player","original":{"line":10,"column":5},"generated":{"line":1,"column":962}},{"source":"common/collide.js","name":"player","original":{"line":10,"column":5},"generated":{"line":1,"column":964}},{"source":"common/collide.js","name":"player","original":{"line":10,"column":5},"generated":{"line":1,"column":967}},{"source":"common/collide.js","original":{"line":9,"column":18},"generated":{"line":1,"column":970}},{"source":"common/collide.js","original":{"line":9,"column":18},"generated":{"line":1,"column":973}},{"source":"common/collide.js","name":"pos","original":{"line":11,"column":2},"generated":{"line":1,"column":974}},{"source":"common/collide.js","name":"player","original":{"line":11,"column":12},"generated":{"line":1,"column":978}},{"source":"common/collide.js","name":"player","original":{"line":11,"column":12},"generated":{"line":1,"column":980}},{"source":"common/collide.js","name":"player","original":{"line":11,"column":12},"generated":{"line":1,"column":982}},{"source":"common/collide.js","name":"player","original":{"line":11,"column":12},"generated":{"line":1,"column":985}},{"source":"common/collide.js","name":"pos","original":{"line":11,"column":19},"generated":{"line":1,"column":987}},{"source":"common/collide.js","name":"dir","original":{"line":11,"column":25},"generated":{"line":1,"column":992}},{"source":"common/collide.js","name":"dir","original":{"line":11,"column":25},"generated":{"line":1,"column":995}},{"source":"common/collide.js","name":"dir","original":{"line":11,"column":25},"generated":{"line":1,"column":997}},{"source":"common/collide.js","name":"dir","original":{"line":11,"column":25},"generated":{"line":1,"column":1000}},{"source":"common/collide.js","name":"player","original":{"line":11,"column":31},"generated":{"line":1,"column":1002}},{"source":"common/collide.js","name":"pos","original":{"line":11,"column":38},"generated":{"line":1,"column":1004}},{"source":"common/collide.js","name":"dir","original":{"line":11,"column":42},"generated":{"line":1,"column":1008}},{"source":"common/collide.js","name":"player","original":{"line":11,"column":49},"generated":{"line":1,"column":1011}},{"source":"common/collide.js","name":"acc","original":{"line":11,"column":56},"generated":{"line":1,"column":1013}},{"source":"common/collide.js","name":"dir","original":{"line":11,"column":60},"generated":{"line":1,"column":1017}},{"source":"common/collide.js","name":"collideGroup","original":{"line":14,"column":6},"generated":{"line":1,"column":1025}},{"source":"common/collide.js","original":{"line":14,"column":21},"generated":{"line":1,"column":1027}},{"source":"common/collide.js","name":"group","original":{"line":14,"column":22},"generated":{"line":1,"column":1036}},{"source":"common/collide.js","name":"obj","original":{"line":14,"column":29},"generated":{"line":1,"column":1038}},{"source":"common/collide.js","name":"group","original":{"line":15,"column":2},"generated":{"line":1,"column":1041}},{"source":"common/collide.js","name":"group","original":{"line":15,"column":2},"generated":{"line":1,"column":1048}},{"source":"common/collide.js","name":"map","original":{"line":15,"column":8},"generated":{"line":1,"column":1050}},{"source":"common/collide.js","original":{"line":15,"column":12},"generated":{"line":1,"column":1054}},{"source":"common/collide.js","name":"gi","original":{"line":15,"column":13},"generated":{"line":1,"column":1063}},{"source":"common/collide.js","name":"isCollide","original":{"line":15,"column":20},"generated":{"line":1,"column":1066}},{"source":"common/collide.js","name":"isCollide","original":{"line":15,"column":20},"generated":{"line":1,"column":1073}},{"source":"common/collide.js","name":"obj","original":{"line":15,"column":30},"generated":{"line":1,"column":1075}},{"source":"common/collide.js","name":"gi","original":{"line":15,"column":35},"generated":{"line":1,"column":1077}},{"source":"common/collide.js","name":"some","original":{"line":15,"column":40},"generated":{"line":1,"column":1082}},{"source":"common/collide.js","original":{"line":15,"column":45},"generated":{"line":1,"column":1087}},{"source":"common/collide.js","name":"i","original":{"line":15,"column":46},"generated":{"line":1,"column":1096}},{"source":"common/collide.js","name":"i","original":{"line":15,"column":52},"generated":{"line":1,"column":1099}},{"source":"common/collide.js","name":"i","original":{"line":15,"column":52},"generated":{"line":1,"column":1106}},{"source":"common/collide.js","name":"collide","original":{"line":17,"column":13},"generated":{"line":1,"column":1111}},{"source":"common/collide.js","original":{"line":17,"column":23},"generated":{"line":1,"column":1113}},{"source":"common/collide.js","original":{"line":17,"column":48},"generated":{"line":1,"column":1122}},{"source":"common/collide.js","name":"objects","original":{"line":17,"column":26},"generated":{"line":1,"column":1125}},{"source":"common/collide.js","name":"objects","original":{"line":17,"column":26},"generated":{"line":1,"column":1129}},{"source":"common/collide.js","name":"objects","original":{"line":17,"column":26},"generated":{"line":1,"column":1131}},{"source":"common/collide.js","name":"objects","original":{"line":17,"column":26},"generated":{"line":1,"column":1133}},{"source":"common/collide.js","name":"player","original":{"line":17,"column":35},"generated":{"line":1,"column":1141}},{"source":"common/collide.js","name":"player","original":{"line":17,"column":35},"generated":{"line":1,"column":1143}},{"source":"common/collide.js","name":"player","original":{"line":17,"column":35},"generated":{"line":1,"column":1145}},{"source":"common/collide.js","name":"isCollideX","original":{"line":18,"column":8},"generated":{"line":1,"column":1152}},{"source":"common/collide.js","name":"collideGroup","original":{"line":18,"column":21},"generated":{"line":1,"column":1154}},{"source":"common/collide.js","name":"objects","original":{"line":18,"column":34},"generated":{"line":1,"column":1156}},{"source":"common/collide.js","original":{"line":18,"column":43},"generated":{"line":1,"column":1159}},{"source":"common/collide.js","name":"moveByDir","original":{"line":18,"column":54},"generated":{"line":1,"column":1161}},{"source":"common/collide.js","name":"moveByDir","original":{"line":18,"column":54},"generated":{"line":1,"column":1163}},{"source":"common/collide.js","name":"moveByDir","original":{"line":18,"column":54},"generated":{"line":1,"column":1175}},{"source":"common/collide.js","name":"player","original":{"line":18,"column":64},"generated":{"line":1,"column":1177}},{"source":"common/collide.js","original":{"line":18,"column":72},"generated":{"line":1,"column":1179}},{"source":"common/collide.js","name":"isCollideY","original":{"line":19,"column":8},"generated":{"line":1,"column":1186}},{"source":"common/collide.js","name":"collideGroup","original":{"line":19,"column":21},"generated":{"line":1,"column":1188}},{"source":"common/collide.js","name":"objects","original":{"line":19,"column":34},"generated":{"line":1,"column":1190}},{"source":"common/collide.js","original":{"line":19,"column":43},"generated":{"line":1,"column":1193}},{"source":"common/collide.js","name":"moveByDir","original":{"line":19,"column":54},"generated":{"line":1,"column":1195}},{"source":"common/collide.js","name":"moveByDir","original":{"line":19,"column":54},"generated":{"line":1,"column":1197}},{"source":"common/collide.js","name":"moveByDir","original":{"line":19,"column":54},"generated":{"line":1,"column":1209}},{"source":"common/collide.js","name":"player","original":{"line":19,"column":64},"generated":{"line":1,"column":1211}},{"source":"common/collide.js","original":{"line":19,"column":72},"generated":{"line":1,"column":1213}},{"source":"common/collide.js","original":{"line":21,"column":9},"generated":{"line":1,"column":1220}},{"source":"common/collide.js","original":{"line":21,"column":9},"generated":{"line":1,"column":1227}},{"source":"common/collide.js","name":"player","original":{"line":22,"column":7},"generated":{"line":1,"column":1229}},{"source":"common/collide.js","name":"player","original":{"line":22,"column":7},"generated":{"line":1,"column":1231}},{"source":"common/collide.js","name":"player","original":{"line":22,"column":7},"generated":{"line":1,"column":1243}},{"source":"common/collide.js","name":"player","original":{"line":22,"column":7},"generated":{"line":1,"column":1245}},{"source":"common/collide.js","name":"player","original":{"line":22,"column":7},"generated":{"line":1,"column":1247}},{"source":"common/collide.js","name":"player","original":{"line":22,"column":7},"generated":{"line":1,"column":1250}},{"source":"common/collide.js","original":{"line":21,"column":9},"generated":{"line":1,"column":1253}},{"source":"common/collide.js","original":{"line":21,"column":9},"generated":{"line":1,"column":1256}},{"source":"common/collide.js","name":"vel","original":{"line":23,"column":4},"generated":{"line":1,"column":1257}},{"source":"common/collide.js","original":{"line":23,"column":9},"generated":{"line":1,"column":1261}},{"source":"common/collide.js","name":"x","original":{"line":24,"column":6},"generated":{"line":1,"column":1262}},{"source":"common/collide.js","name":"isCollideX","original":{"line":24,"column":9},"generated":{"line":1,"column":1264}},{"source":"common/collide.js","original":{"line":24,"column":22},"generated":{"line":1,"column":1266}},{"source":"common/collide.js","name":"player","original":{"line":24,"column":26},"generated":{"line":1,"column":1268}},{"source":"common/collide.js","name":"vel","original":{"line":24,"column":33},"generated":{"line":1,"column":1270}},{"source":"common/collide.js","name":"x","original":{"line":24,"column":37},"generated":{"line":1,"column":1274}},{"source":"common/collide.js","name":"y","original":{"line":25,"column":6},"generated":{"line":1,"column":1276}},{"source":"common/collide.js","name":"isCollideY","original":{"line":25,"column":9},"generated":{"line":1,"column":1278}},{"source":"common/collide.js","original":{"line":25,"column":22},"generated":{"line":1,"column":1280}},{"source":"common/collide.js","name":"player","original":{"line":25,"column":26},"generated":{"line":1,"column":1282}},{"source":"common/collide.js","name":"vel","original":{"line":25,"column":33},"generated":{"line":1,"column":1284}},{"source":"common/collide.js","name":"y","original":{"line":25,"column":37},"generated":{"line":1,"column":1288}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":1295}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":1303}},{"source":"common/collide.js","original":{"line":17,"column":7},"generated":{"line":1,"column":1311}}],"sources":{"common/collide.js":"import { nextPlayer } from '../player/player';\n\nconst isCollide = (obj1, obj2) =>\n  obj1.pos.x < obj2.pos.x + obj2.size\n  && obj1.pos.x + obj1.size > obj2.pos.x\n  && obj1.pos.y < obj2.pos.y + obj2.size\n  && obj1.pos.y + obj1.size > obj2.pos.y;\n\nconst moveByDir = (player, dir) => ({\n  ...player,\n  pos: { ...player.pos, [dir]: player.pos[dir] + player.acc[dir] },\n});\n\nconst collideGroup = (group, obj) =>\n  group.map((gi) => isCollide(obj, gi)).some((i) => i);\n\nexport const collide = ({ objects, player }) => {\n  const isCollideX = collideGroup(objects, nextPlayer(moveByDir(player, 'x')));\n  const isCollideY = collideGroup(objects, nextPlayer(moveByDir(player, 'y')));\n\n  return nextPlayer({\n    ...player,\n    vel: {\n      x: isCollideX ? 0 : player.vel.x,\n      y: isCollideY ? 0 : player.vel.y,\n    },\n  });\n};\n"},"lineCount":null}},"error":null,"hash":"84fcae1d378f0c9fca48e6db6826f892","cacheData":{"env":{}}}